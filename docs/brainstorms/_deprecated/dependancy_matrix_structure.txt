
{ DEPENDANCY_MATRIX HARDWARE }

An entry is issued at the DECODE stAge.






[ Time=x]

    |                   | Look-ahead
Age | Instruction       +---+-------------------+---+-------------------+---+-------------------+---+-------------------+---+-------------------+---+-------------------+---+-------------------+---+-------------------+
    |                   | 0 |                   | 1 |                   | 2 |                   | 3 |                   | 4 |                   | 5 |                   | 6 |                   | 7 |                   |
+---+-------------------+---+-------------------+---+-------------------+---+-------------------+---+-------------------+---+-------------------+---+-------------------+---+-------------------+---+-------------------+
| 0 |                   |                       | 1 |                   | 2 |                   | 3 |                   | 4 |                   | 5 |                   | 6 |                   | 7 |                   |
+---+-------------------+                       +---+-------------------+---+-------------------+---+-------------------+---+-------------------+---+-------------------+---+-------------------+---+-------------------+
| 1 |                   |                                               | 2 |                   | 3 |                   | 4 |                   | 5 |                   | 6 |                   | 7 |                   |
+---+-------------------+                                               +---+-------------------+---+-------------------+---+-------------------+---+-------------------+---+-------------------+---+-------------------+
| 2 |                   |                                                                       | 3 |                   | 4 |                   | 5 |                   | 6 |                   | 7 |                   |
+---+-------------------+                                                                       +---+-------------------+---+-------------------+---+-------------------+---+-------------------+---+-------------------+
| 3 |                   |                                                                                               | 4 |                   | 5 |                   | 6 |                   | 7 |                   |
+---+-------------------+                                                                                               +---+-------------------+---+-------------------+---+-------------------+---+-------------------+
| 4 |                   |                                                                                                                       | 5 |                   | 6 |                   | 7 |                   |
+---+-------------------+                                                                                                                       +---+-------------------+---+-------------------+---+-------------------+
| 5 |                   |                                                                                                                                               | 6 |                   | 7 |                   |
+---+-------------------+                                                                                                                                               +---+-------------------+---+-------------------+
| 6 |                   |                                                                                                                                                                       | 7 |                   |
+---+-------------------+- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -+---+-------------------+








{ ENTRY LAYOUTS }

( updated dependancy_matrix entry )

+----------------------+
| 1.f.r11.r12.r13.0.0  | -> cost=1, 0xi_tag=f, c=r11, b=r12, a=r13, critical=0, stall=0
+----------------------+

( dependancy_matrix output )

+----------------------+
|                      | -> dependant stall complete
+----------------------+


{ DEPENDANCY_MATRIX }
( file: /s16-emulator/src/assembler/assembly/pipeline_testing.s16 )

[ Time=0 ]

    |                   | Look-ahead
Age | Instruction       +---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
    |                   | 0 | 1.0.r15.r15.r0.1.0  | 1 |                     | 2 |                     | 3 |                     | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 0 | clr r15, r0       |                         | 1 |                     | 2 |                     | 3 |                     | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                         +---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 1 |                   |                                                   | 2 |                     | 3 |                     | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                                                   +---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 2 |                   |                                                                             | 3 |                     | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                                                                             +---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 3 |                   |                                                                                                       | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                                                                                                       +---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 4 |                   |                                                                                                                                 | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                                                                                                                                 +---+---------------------+---+---------------------+---+---------------------+
| 5 |                   |                                                                                                                                                           | 6 |                     | 7 |                     |
+---+-------------------+                                                                                                                                                           +---+---------------------+---+---------------------+
| 6 |                   |                                                                                                                                                                                     | 7 |                     |
+---+-------------------+- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -+---+---------------------+

[ Time=1 ]

    |                   | Look-ahead
Age | Instruction       +---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
    |                   | 0 | 1.1.r0._._.0.0      | 1 | 1.0.r15.r15.r0.1.0  | 2 |                     | 3 |                     | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 0 | lim r0, 128       |                         | 1 |                     | 2 |                     | 3 |                     | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                         +---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 1 | clr r15, r0       |                                                   | 2 |                     | 3 |                     | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                                                   +---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 2 |                   |                                                                             | 3 |                     | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                                                                             +---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 3 |                   |                                                                                                       | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                                                                                                       +---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 4 |                   |                                                                                                                                 | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                                                                                                                                 +---+---------------------+---+---------------------+---+---------------------+
| 5 |                   |                                                                                                                                                           | 6 |                     | 7 |                     |
+---+-------------------+                                                                                                                                                           +---+---------------------+---+---------------------+
| 6 |                   |                                                                                                                                                                                     | 7 |                     |
+---+-------------------+- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -+---+---------------------+

[ Time=2 ]

    |                   | Look-ahead
Age | Instruction       +---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
    |                   | 0 | 7.2.r8.r0._.0.0     | 1 | 1.1.r0._._.0.0      | 2 | 1.0.r15.r15.r0.1.0  | 3 |                     | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 0 | ldw r8, r0        |                         | 1 |                     | 2 |                     | 3 |                     | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                         +---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 1 | lim r0, 128       |                                                   | 2 |                     | 3 |                     | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                                                   +---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 2 | clr r15, r0       |                                                                             | 3 |                     | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                                                                             +---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 3 |                   |                                                                                                       | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                                                                                                       +---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 4 |                   |                                                                                                                                 | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                                                                                                                                 +---+---------------------+---+---------------------+---+---------------------+
| 5 |                   |                                                                                                                                                           | 6 |                     | 7 |                     |
+---+-------------------+                                                                                                                                                           +---+---------------------+---+---------------------+
| 6 |                   |                                                                                                                                                                                     | 7 |                     |
+---+-------------------+- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -+---+---------------------+

[ Time=3 ]

    |                   | Look-ahead
Age | Instruction       +---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
    |                   | 0 |                     | 1 |                     | 2 |                     | 3 |                     | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 0 |                   |                         | 1 |                     | 2 |                     | 3 |                     | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                         +---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 1 |                   |                                                   | 2 |                     | 3 |                     | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                                                   +---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 2 |                   |                                                                             | 3 |                     | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                                                                             +---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 3 |                   |                                                                                                       | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                                                                                                       +---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 4 |                   |                                                                                                                                 | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                                                                                                                                 +---+---------------------+---+---------------------+---+---------------------+
| 5 |                   |                                                                                                                                                           | 6 |                     | 7 |                     |
+---+-------------------+                                                                                                                                                           +---+---------------------+---+---------------------+
| 6 |                   |                                                                                                                                                                                     | 7 |                     |
+---+-------------------+- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -+---+---------------------+

[ Time=4 ]

    |                   | Look-ahead
Age | Instruction       +---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
    |                   | 0 |                     | 1 |                     | 2 |                     | 3 |                     | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 0 |                   |                         | 1 |                     | 2 |                     | 3 |                     | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                         +---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 1 |                   |                                                   | 2 |                     | 3 |                     | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                                                   +---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 2 |                   |                                                                             | 3 |                     | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                                                                             +---+---------------------+---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 3 |                   |                                                                                                       | 4 |                     | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                                                                                                       +---+---------------------+---+---------------------+---+---------------------+---+---------------------+
| 4 |                   |                                                                                                                                 | 5 |                     | 6 |                     | 7 |                     |
+---+-------------------+                                                                                                                                 +---+---------------------+---+---------------------+---+---------------------+
| 5 |                   |                                                                                                                                                           | 6 |                     | 7 |                     |
+---+-------------------+                                                                                                                                                           +---+---------------------+---+---------------------+
| 6 |                   |                                                                                                                                                                                     | 7 |                     |
+---+-------------------+- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -+---+---------------------+






























